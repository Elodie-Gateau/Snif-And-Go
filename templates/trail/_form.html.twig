{{ form_start(form, { attr: { class: 'add-trail__form' } }) }}
{% if form_errors(form) %}
  <div class="form__global-errors">
    {{ form_errors(form) }}
  </div>
{% endif %}

<div class="add-trail__form-item">
	{{ form_label(form.name) }}
	{{ form_widget(form.name) }}
	<div class="add-trail__form_error">
		{% if form_errors(form.name) %}
			{{ form_errors(form.name) }}
		{% endif %}
	</div>
</div>

<div class="add-trail__form-item">
	{{ form_label(form.inputMode) }}
	{{ form_widget(form.inputMode) }}
	<div class="add-trail__form_error">
		{% if form_errors(form.inputMode) %}
			{{ form_errors(form.inputMode) }}
		{% endif %}
	</div>
</div>

<div data-section="gpx" class="add-trail__form-section">

	{{ form_label(form.gpxFile) }}
	{{ form_widget(form.gpxFile) }}
	<div class="add-trail__form_error">
		{% if form_errors(form.gpxFile) %}
			{{ form_errors(form.gpxFile) }}
		{% endif %}
	</div>
</div>

<div data-section="manual" class="add-trail__form-section hidden">
	<fieldset class="trail-form__group">
		<legend>Point de départ</legend>
		<div class="add-trail__form-item">
			{{ form_label(form.startAddress) }}
			{{ form_widget(form.startAddress) }}
			<div class="add-trail__form_error">
				{% if form_errors(form.startAddress) %}
					{{ form_errors(form.startAddress) }}

				{% endif %}
			</div>
		</div>

		<div class="add-trail__form-item">
			{{ form_label(form.startCode) }}
			{{ form_widget(form.startCode, { attr: { id: 'trail_startCode' } }) }}
			<div class="add-trail__form_error">
				{% if form_errors(form.startCode) %}
					{{ form_errors(form.startCode) }}

				{% endif %}
			</div>
		</div>

		<div class="add-trail__form-item">
			{{ form_label(form.startCity) }}
			{{ form_widget(form.startCity, { attr: { id: 'trail_startCity', list: 'start-city-list', autocomplete: 'address-level2' } }) }}
			<datalist id="start-city-list"></datalist>
			<div class="add-trail__form_error">
				{% if form_errors(form.startCity) %}
					{{ form_errors(form.startCity) }}

				{% endif %}
			</div>
		</fieldset>
		<fieldset class="trail-form__group">
			<legend>Point d'arrivée</legend>
			<div class="add-trail__form-item">
				{{ form_label(form.endAddress) }}
				{{ form_widget(form.endAddress) }}
				<div class="add-trail__form_error">
					{% if form_errors(form.endAddress) %}
						{{ form_errors(form.endAddress) }}

					{% endif %}
				</div>
			</div>

			<div class="add-trail__form-item">
				{{ form_label(form.endCode) }}
				{{ form_widget(form.endCode, { attr: { id: 'trail_endCode', inputmode: 'numeric', maxlength: 5, pattern: '\\d{5}' } }) }}
				<div class="add-trail__form_error">
					{% if form_errors(form.endCode) %}
						{{ form_errors(form.endCode) }}

					{% endif %}
				</div>
			</div>

			<div class="add-trail__form-item">
				{{ form_label(form.endCity) }}
				{{ form_widget(form.endCity, { attr: { id: 'trail_endCity', list: 'end-city-list', autocomplete: 'address-level2' } }) }}
				<datalist id="end-city-list"></datalist>
				<div class="add-trail__form_error">
					{% if form_errors(form.endCity) %}
						{{ form_errors(form.endCity) }}

					{% endif %}
				</div>
			</div>
		</fieldset>

	</div>


	<div class="add-trail__form-item">
		{{ form_label(form.water_point) }}
		{{ form_widget(form.water_point) }}
		<div class="add-trail__form_error">
			{% if form_errors(form.water_point) %}
				{{ form_errors(form.water_point) }}
			{% endif %}
		</div>
	</div>

	<div class="add-trail__form-item">
		{{ form_label(form.difficulty) }}
		{{ form_widget(form.difficulty) }}
		<div class="add-trail__form_error">
			{% if form_errors(form.difficulty) %}
				{{ form_errors(form.difficulty) }}
			{% endif %}
		</div>
	</div>


	<div class="add-trail__form-item">
		{{ form_label(form.photoFiles) }}
		{{ form_widget(form.photoFiles) }}
		<div class="add-trail__form_error">
			{% if form_errors(form.photoFiles) %}
				{{ form_errors(form.photoFiles) }}
			{% endif %}
		</div>
	</div>


	{{ form_rest(form) }}

	<button class="add-trail__form-submit">{{ button_label|default("Ajouter l'itinéraire") }}</button>

	{{ form_end(form) }}
